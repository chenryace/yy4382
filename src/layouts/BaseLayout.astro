---
import { ViewTransitions } from "astro:transitions";
import Footer from "../components/Footer.astro";
import SideBar from "../components/sidebar/SideBar.astro";
import Navbar from "../components/Navbar.astro";
import { SEO } from "astro-seo";
import "../styles/base.css";
import { type SeoConfig } from "../config";
interface Props {
  seoConfig: SeoConfig;
  stopTrack?: boolean;
}
const { seoConfig, stopTrack } = Astro.props;
---

<html lang="zh-cn">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" sizes="32x32" />
    <link rel="icon" type="image/png" href="/favicon.png" sizes="256x256" />
    <link rel="icon" type="image/png" href="/favicon-sm.png" sizes="64x64" />
    {
      import.meta.env.PROD && !stopTrack ? (
        <>
          <script
            is:inline
            async
            src="https://analy.yfi.moe/script.js"
            data-website-id="3c89f8f6-9432-4ceb-a404-f22f2b0cf94d"
          />
          <script
            is:inline
            async
            src="https://www.googletagmanager.com/gtag/js?id=G-1MPEY5XJ9V"
          />
        </>
      ) : (
        ""
      )
    }
    <SEO
      {...seoConfig}
      titleTemplate="%s - Yunfi's blog"
      titleDefault="Yunfi's Blog"
    />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <ViewTransitions />
  </head>
  <body class="bg-gray-100 dark:bg-gray-950 transition">
    <div class="w-[calc(100%-2rem)] xl:max-w-6xl mx-auto min-h-screen">
      <div class="grid w-full
      grid-cols-1 lg:grid-cols-[75%_25%]">
        <nav class="lg:col-span-2 mb-4">
          <Navbar />
        </nav>

        <div class="mb-4 lg:mr-4">
          <slot />
        </div>
        <aside class="mb-4 mx-4 lg:mx-0">
          <slot name="sidebar">
            <SideBar />
          </slot>
        </aside>

        <footer class="lg:col-span-2">
          <Footer />
        </footer>
      </div>
    </div>
    <svg class="hidden">
      <symbol id="github-icon" viewBox="0 0 24 24">
        <path
          fill="currentColor"
          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"
        ></path>
      </symbol>
    </svg>
    <svg class="hidden">
      <symbol viewBox="0 0 24 24" id="external-link-icon">
        <g fill="none">
          <path
            d="M24 0v24H0V0zM12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.105.074l.014.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.016-.018m.264-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022m-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.092l.01-.009l.004-.011l.017-.43l-.003-.012l-.01-.01z"
          >
          </path>
          <path
            fill="#888888"
            d="M18 4.5A1.5 1.5 0 0 1 19.5 6v8a1.5 1.5 0 0 1-3 0V9.621l-9.097 9.097a1.5 1.5 0 0 1-2.12-2.122L14.377 7.5H10a1.5 1.5 0 1 1 0-3z"
          >
          </path>
        </g>
      </symbol>
    </svg>
  </body>
</html>
