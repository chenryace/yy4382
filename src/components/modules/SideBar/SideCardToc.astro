---
import SideCard from "./SideCard.astro";
import TocEntry from "./TocEntry.vue";
import type { MarkdownHeading } from "astro";

interface Props {
  tocList: MarkdownHeading[];
}

const { tocList } = Astro.props;

// let query = [0, 0, 0, 0, 0, 0];
// for (let tocItem of tocList) {
//   query[tocItem.depth] += 1;
//   for (let i = tocItem.depth + 1; i < query.length; i++) {
//     query[i] = 0;
//   }
//   tocItem.text = `${query.slice(2, tocItem.depth + 1).join(".")}. ${
//     tocItem.text
//   }`;
// }
---

<SideCard cardTitle="目录" cardLink="#">
  <TocEntry headings={tocList} client:visible />
</SideCard>
