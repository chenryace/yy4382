---
import { umamiConfig, googleMeasurementId } from "@configs/track";
const {
  src: umamiSrc,
  websiteId: umamiId,
  domains: umamiDomains,
} = umamiConfig;
---

<script
  is:inline
  define:vars={{ umamiSrc, umamiId, umamiDomains }}
  async
  type="text/partytown"
  src={umamiSrc}
  data-website-id={umamiId}
  data-domains={umamiDomains.join(",")}></script>

<script
  is:inline
  define:vars={{ googleMeasurementId }}
  async
  type="text/partytown"
  src={`https://www.googletagmanager.com/gtag/js?id=${googleMeasurementId}`}
></script>

<script is:inline define:vars={{ googleMeasurementId }} type="text/partytown">
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    // eslint-disable-next-line prefer-rest-params
    dataLayer.push(arguments);
  }
  gtag("js", new Date());

  gtag("config", googleMeasurementId);
</script>
