---
import { umamiConfig, googleMeasurementId } from "@configs/track";
const {
  src: umamiSrc,
  websiteId: umamiId,
  domains: umamiDomains,
} = umamiConfig;
---

<script
  is:inline
  define:vars={{ umamiSrc, umamiId, umamiDomains }}
  async
  type="text/partytown"
  src={umamiSrc}
  data-website-id={umamiId}
  data-domains={umamiDomains.join(",")}></script>

<script
  is:inline
  type="text/partytown"
  define:vars={{ googleMeasurementId }}
  src={`https://www.googletagmanager.com/gtag/js?id=${googleMeasurementId}`}
></script>

<script type="text/partytown" is:inline define:vars={{ googleMeasurementId }}>
  window.dataLayer = window.dataLayer || [];
  window.gtag = function gtag() {
    dataLayer.push(arguments);
  };
  gtag("js", new Date());

  gtag("config", googleMeasurementId);
</script>
